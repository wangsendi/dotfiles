# ============================================================================
# 基本设置
# ============================================================================
set -g prefix C-a
set-option -g default-shell /bin/zsh
set-option -g default-command /bin/zsh
set -g default-terminal "screen-256color"

# ============================================================================
# 窗口和窗格设置
# ============================================================================
set -g base-index 1
set -g pane-base-index 1
set -g renumber-windows on
set -g display-panes-time 10000
set -g pane-border-format "#P #W"

setw -g allow-rename off
setw -g automatic-rename off
setw -g mode-keys vi

# ============================================================================
# 鼠标和历史设置
# ============================================================================
set -g mouse on
set -g history-limit 10000

# ============================================================================
# 状态栏配置
# ============================================================================
set -g status on
set -g status-utf8 on

set -g status-position bottom
set -g status-interval 1

set -g status 2
# 两行状态栏：第二行显示窗格信息（索引 | 运行程序）
set -g status-format[1] "#[align=left]#{P:#{?pane_active,#[reverse],}#{pane_index} | #{pane_current_command}#[default] }"

# 前缀键状态显示
set -g @prefix_highlight_fg 'black'
set -g @prefix_highlight_bg 'yellow'
set -g status-left " #[bold]#S "
set -g status-left-length 40
set -g status-right-length 80
set -g status-right "#{?client_prefix,#[reverse] PREFIX #[noreverse] ,} #H | %a %Y-%m-%d %H:%M:%S "

# ============================================================================
# 键绑定优化
# ============================================================================

# 窗格操作优化
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# 快速关闭窗格（不需要确认）
unbind x
bind-key x kill-pane

# 重新加载配置
bind r source-file ~/.tmux.conf \; display "Config reloaded!"
